# ITSON FSM Platform - Production Environment Variables Template
# Copy this file to .env.production and fill in your production values

# =============================================================================
# FRONTEND ENVIRONMENT VARIABLES (VITE)
# =============================================================================

# API Configuration
VITE_API_BASE_URL=https://api.your-domain.com
VITE_USE_MOCK_API=false

# AI Configuration
VITE_AI_PROVIDER=claude
VITE_ANTHROPIC_API_KEY=sk-ant-api03-xxx
VITE_OPENAI_API_KEY=sk-xxx

# WhatsApp Configuration
VITE_WHATSAPP_BUSINESS_PHONE=+27123456789
VITE_ENABLE_WHATSAPP_ONBOARDING=true

# Feature Flags
VITE_ENABLE_BIOMETRIC_AUTH=true
VITE_ENABLE_OFFLINE_MODE=true
VITE_ENABLE_PWA=true
VITE_ENABLE_ANALYTICS=true

# App Configuration
VITE_APP_NAME=ITSON FSM
VITE_APP_VERSION=1.0.0
VITE_SUPPORT_EMAIL=support@itsonfsm.com
VITE_COMPANY_NAME=ITSON

# Sentry Error Tracking (Optional)
VITE_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
VITE_SENTRY_ENVIRONMENT=production

# Analytics (Optional)
VITE_GA_TRACKING_ID=G-XXXXXXXXXX
VITE_HOTJAR_ID=XXXXXXX

# =============================================================================
# BACKEND ENVIRONMENT VARIABLES (Node.js/Express)
# =============================================================================

# Server Configuration
NODE_ENV=production
PORT=5000
FRONTEND_URL=https://your-domain.com

# Database Configuration
DATABASE_URL=postgresql://username:password@host:5432/itson_fsm
DATABASE_SSL=true
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# Authentication & Security
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d
BCRYPT_ROUNDS=12

# Session Configuration
SESSION_SECRET=your-session-secret-change-this
SESSION_MAX_AGE=604800000

# CORS Configuration
CORS_ORIGIN=https://your-domain.com,https://www.your-domain.com
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5

# File Upload Configuration (AWS S3)
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
AWS_S3_BUCKET=itson-fsm-production
AWS_REGION=af-south-1
MAX_FILE_SIZE=10485760

# WhatsApp Business API
WHATSAPP_PHONE_NUMBER_ID=123456789012345
WHATSAPP_BUSINESS_ACCOUNT_ID=123456789012345
WHATSAPP_ACCESS_TOKEN=EAAxxxxxxxxxxxx
WHATSAPP_VERIFY_TOKEN=your-webhook-verify-token-change-this
WHATSAPP_API_VERSION=v18.0
WHATSAPP_WEBHOOK_URL=https://api.your-domain.com/api/whatsapp/webhook

# AI Services
ANTHROPIC_API_KEY=sk-ant-api03-xxx
OPENAI_API_KEY=sk-xxx
AI_MODEL_CLAUDE=claude-3-5-sonnet-20241022
AI_MODEL_OPENAI=gpt-4-turbo-preview
AI_MAX_TOKENS=1024

# Email Service (SendGrid/SES)
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=SG.xxxxxxxxxxxx
EMAIL_FROM=noreply@itsonfsm.com
EMAIL_FROM_NAME=ITSON FSM Platform

# SMS Service (Twilio/AWS SNS)
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxx
TWILIO_PHONE_NUMBER=+27123456789

# Monitoring & Logging
LOG_LEVEL=info
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
SENTRY_ENVIRONMENT=production

# Redis (Optional - for caching/sessions)
REDIS_URL=redis://username:password@host:6379
REDIS_TLS=true

# Background Jobs (Optional - Bull/Agenda)
QUEUE_REDIS_URL=redis://username:password@host:6379

# Biometric Services
FACE_RECOGNITION_CONFIDENCE_THRESHOLD=0.8
BIOMETRIC_MODEL_URL=/models

# IDC Compliance
IDC_COMPLIANCE_MODE=strict
IDC_AUDIT_LOGGING=true
IDC_DATA_RETENTION_DAYS=2555

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=itson-fsm-backups

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please check back soon.

# Feature Toggles
ENABLE_REGISTRATION=false
ENABLE_PASSWORD_RESET=true
ENABLE_2FA=false
ENABLE_AUDIT_LOGS=true

# Performance
NODE_OPTIONS=--max-old-space-size=2048
UV_THREADPOOL_SIZE=16

# Timezone
TZ=Africa/Johannesburg

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Railway/Render/Heroku specific
RAILWAY_ENVIRONMENT=production
RENDER_SERVICE_TYPE=web
DYNO=web

# Health Check
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30000

# Graceful Shutdown
SHUTDOWN_TIMEOUT=10000

# =============================================================================
# NOTES
# =============================================================================
#
# 1. Never commit this file with actual secrets to version control
# 2. Use your hosting platform's secret management (Railway Secrets, Heroku Config Vars, etc.)
# 3. Rotate secrets regularly (at least every 90 days)
# 4. Use different secrets for staging and production
# 5. Enable 2FA on all service accounts
# 6. Monitor for exposed secrets using tools like GitGuardian
# 7. Keep database backups in separate geographic region
# 8. Test disaster recovery procedures quarterly
#
# =============================================================================
